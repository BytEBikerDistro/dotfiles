# Zoxide as cd
eval "$(zoxide init --cmd cd zsh)"

# FZF color scheme (TokyoNight theme)
export FZF_DEFAULT_OPTS=" --color=bg:#1a1b26,bg+:#24283b,spinner:#bb9af7,hl:#f7768e --color=fg:#c0caf5,header:#7aa2f7,info:#7dcfff,pointer:#7aa2f7 --color=marker:#9ece6a,fg+:#a9b1d6,prompt:#e0af68,hl+:#ff7aa1 --color=selected-bg:#414868 --color=border:#565f89,label:#c0caf5"

# NALA wrapper for apt
apt_wrapper() {
    # Check if nala is installed, fall back to apt if not
    if ! command -v nala >/dev/null 2>&1; then
        echo "nala not found, falling back to apt."
        command apt "$@"
        return $?
    fi

    # If no argument given, run nala to print help menu
    if [ -z "$1" ]; then
        command nala
        return
    fi

    local cmd="$1"
    shift

    case "$cmd" in
    install | in | add)
        command nala install "$@"
        ;;
    se* | sr | find)
        command nala search "$@"
        ;;
    up | update)
        command nala update "$@"
        ;;
    upg*)
        command nala upgrade "$@"
        ;;
    show | info)
        command nala show "$@"
        ;;
    cl*)
        command nala clean "$@"
        ;;
    ap | autopurge)
        command nala autopurge "$@"
        ;;
    un* | rem* | rm | del* | r)
        command nala remove "$@"
        ;;
    list-up*)
        command nala list --upgradable
        ;;
    *)
        command nala "$cmd" "$@"
        ;;
    esac
}

alias apt='apt_wrapper'

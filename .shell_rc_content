# Zoxide as cd
eval "$(zoxide init --cmd cd zsh)"

# FZF color scheme (Monokai/Molokai theme)
export FZF_DEFAULT_OPTS=" \
  --color=bg:#272822,bg+:#3e3d32,spinner:#f92672,hl:#fd971f \
  --color=fg:#f8f8f2,header:#75715e,info:#66d9ef,pointer:#ae81ff \
  --color=marker:#f92672,fg+:#f8f8f2,prompt:#a6e22e,hl+:#fd971f \
  --color=selected-bg:#49483e \
  --color=border:#75715e,label:#f8f8f2"

# NALA wrapper for apt
apt_wrapper() {
    # Check if nala is installed, fall back to apt if not
    if ! command -v nala >/dev/null 2>&1; then
        echo "nala not found, falling back to apt."
        command apt "$@"
        return $?
    fi

    # If no argument given, run nala to print help menu
    if [ -z "$1" ]; then
        command nala
        return
    fi

    local cmd="$1"
    shift

    case "$cmd" in
    install | in | add)
        command nala install "$@"
        ;;
    se* | sr | find)
        command nala search "$@"
        ;;
    up | update)
        command nala update "$@"
        ;;
    upg*)
        command nala upgrade "$@"
        ;;
    show | info)
        command nala show "$@"
        ;;
    cl*)
        command nala clean "$@"
        ;;
    ap | autopurge)
        command nala autopurge "$@"
        ;;
    un* | rem* | rm | del* | r)
        command nala remove "$@"
        ;;
    list-up*)
        command nala list --upgradable
        ;;
    *)
        command nala "$cmd" "$@"
        ;;
    esac
}

alias apt='apt_wrapper'
